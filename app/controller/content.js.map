{
    "version": 3,
    "sources": [
        "../../src/controller/content.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "listAction",
        "content",
        "model",
        "contentInfo",
        "select",
        "success",
        "msg",
        "contentAction",
        "id",
        "post",
        "think",
        "isEmpty",
        "fail",
        "where",
        "find",
        "addAction",
        "Object",
        "assign",
        "category_id",
        "create_time",
        "formatDate",
        "modify_time",
        "user_id",
        "type",
        "result",
        "add",
        "updateAction",
        "update",
        "deleteAction",
        "findResult",
        "delete",
        "searchAction",
        "keys",
        "title"
    ],
    "mappings": "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",
    "file": "../../src/controller/content.js",
    "sourcesContent": [
        "const Base = require('./base.js');\n\nmodule.exports = class extends Base {\n  async indexAction() {\n  }\n  // 获取文章列表\n  async listAction() {\n    const content = this.model('content')\n    // 获取content表中所有的数据\n    const contentInfo = await content.select()\n    return this.success({\n      msg: '获取内容列表成功',\n      contentInfo: contentInfo\n    })\n  }\n  // 获取列表对应的文章内容\n  async contentAction() {\n    const content = this.model('content')\n    const id = this.post('id')\n    if (think.isEmpty(id) || !id) {\n      return this.fail('请传入对应的参数id')\n    }\n    //获取content表中对应id的数据\n    const contentInfo = await content.where({id: id}).find()\n    if (think.isEmpty(contentInfo)) {\n      return this.fail('查询内容失败')\n    }\n    return this.success({\n      msg: '获取内容成功',\n      contentInfo: contentInfo\n    })\n  }\n  // 新增文章\n  async addAction() {\n    const content = this.model('content')\n    let contentInfo = this.post()\n    if (think.isEmpty(contentInfo) || !contentInfo) {\n      return this.fail('请检查参数是否正确')\n    }\n    // 添加创建时间和category_id参数\n    contentInfo = Object.assign(contentInfo, {\n      category_id: '1', \n      create_time: this.formatDate(),\n      modify_time: this.formatDate(),\n      user_id: '1',\n      type: 'post'\n    })\n    const result = await content.add(contentInfo)\n    if (think.isEmpty(result)) {\n      return this.fail('增加数据失败')\n    }\n    return this.success({\n      msg: '添加数据成功'\n    })\n\n  }\n  // 更新文章\n  async updateAction() {\n    const content = this.model('content')\n    let contentInfo = this.post()\n    if (think.isEmpty(contentInfo) || !contentInfo) {\n      return this.fail('请检查参数是否正确')\n    }\n    contentInfo = Object.assign(contentInfo, {\n      modify_time: this.formatDate()\n    })\n    const result = await content.update(contentInfo)\n    if (think.isEmpty(result)) {\n      return this.fail('更新失败')\n    }\n    return this.success({msg: '更新成功'})\n  }\n  // 删除文章\n  async deleteAction() {\n    const content = this.model('content')\n    const id = this.post('id')\n    if (think.isEmpty(id) || !id) {\n      return this.fail('请检查参数是否正确')\n    }\n    const findResult = await content.where({id: id}).find()\n    if (think.isEmpty(findResult)) {\n      return this.fail('此数据已被删除，请刷新列表')\n    }\n    const result = await content.where({id: id}).delete()\n    if (think.isEmpty(result)) {\n      return this.fail('删除失败')\n    }\n    return this.success({msg: '删除成功'})\n  }\n  // 搜素文章\n  async searchAction() {\n    const content = this.model('content')\n    const keys = this.post('keys')\n    if (think.isEmpty(keys) || !keys) {\n      return this.listAction()\n    }\n    let contentInfo = await content.where({title: ['like', `%${keys}%`]}).select()\n    if (think.isEmpty(contentInfo)) {\n      return this.fail('未搜索到相应文章')\n    }\n    return this.success({\n      msg: '搜索成功',\n      contentInfo: contentInfo\n    })\n  }\n};\n"
    ]
}